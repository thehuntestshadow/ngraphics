<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Product Infographics Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ============================================
         HEADER
         ============================================ -->
    <header>
        <h1>AI Product Infographics Generator</h1>
        <p>Create professional marketing infographics with AI</p>
    </header>

    <div class="container">
        <div class="main-content">
            <!-- ============================================
                 INPUT PANEL
                 ============================================ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Product Details</h2>
                    <!-- Language Toggle -->
                    <div class="language-toggle">
                        <button class="lang-option active" data-lang="en">English</button>
                        <button class="lang-option" data-lang="ro">Romana</button>
                    </div>
                </div>

                <!-- API Key Section -->
                <div class="api-key-section">
                    <div class="api-key-header">
                        <label class="form-label mb-0">OpenRouter API Key</label>
                        <button class="api-key-toggle" id="toggleApiKey">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            <span>Show</span>
                        </button>
                    </div>
                    <div class="api-key-input-group">
                        <input type="password" class="form-input" id="apiKey" placeholder="sk-or-v1-...">
                        <button class="btn btn-secondary" id="saveApiKey">Save</button>
                    </div>
                </div>

                <!-- Error Message Display -->
                <div class="error-message" id="errorMessage">
                    <div class="error-title">Error</div>
                    <div class="error-text"></div>
                </div>

                <!-- Success Message Display -->
                <div class="success-message" id="successMessage">
                    API key saved successfully!
                </div>

                <form id="infographicForm">
                    <!-- AI Model Selection -->
                    <div class="form-group">
                        <label class="form-label">AI Model</label>
                        <select class="form-select" id="aiModel">
                            <optgroup label="Google Gemini">
                                <option value="google/gemini-2.0-flash-exp:free">Gemini 2.0 Flash (Free)</option>
                                <option value="google/gemini-2.5-flash-image">Gemini 2.5 Flash Image</option>
                                <option value="google/gemini-2.5-flash-image-preview">Gemini 2.5 Flash Image Preview</option>
                                <option value="google/gemini-3-pro-image-preview" selected>Gemini 3 Pro Image (Best Quality)</option>
                            </optgroup>
                            <optgroup label="OpenAI GPT Image">
                                <option value="openai/gpt-5-image">GPT-5 Image</option>
                                <option value="openai/gpt-5-image-mini">GPT-5 Image Mini (Faster)</option>
                            </optgroup>
                            <optgroup label="Black Forest Labs Flux">
                                <option value="black-forest-labs/flux.2-pro">Flux 2 Pro</option>
                                <option value="black-forest-labs/flux.2-max">Flux 2 Max (Highest Quality)</option>
                                <option value="black-forest-labs/flux.2-flex">Flux 2 Flex (Best Text)</option>
                            </optgroup>
                            <optgroup label="Sourceful Riverflow">
                                <option value="sourceful/riverflow-v2-fast-preview">Riverflow V2 Fast</option>
                                <option value="sourceful/riverflow-v2-standard-preview">Riverflow V2 Standard</option>
                                <option value="sourceful/riverflow-v2-max-preview">Riverflow V2 Max</option>
                            </optgroup>
                        </select>
                    </div>

                    <!-- Product Photo Upload -->
                    <div class="form-group">
                        <label class="form-label">
                            Product Photo
                            <span class="hint">(Reference image for the infographic)</span>
                        </label>
                        <div class="upload-area" id="uploadArea">
                            <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                <polyline points="21 15 16 10 5 21"></polyline>
                            </svg>
                            <p class="upload-text">Click to upload or drag and drop</p>
                            <p class="upload-hint">PNG, JPG, JPEG, WebP (max 10MB)</p>
                            <input type="file" class="upload-input" id="productPhoto" accept="image/png,image/jpeg,image/jpg,image/webp">
                        </div>
                        <div class="image-preview" id="imagePreview">
                            <div class="preview-container">
                                <img src="" alt="Preview" class="preview-image" id="previewImg">
                                <button type="button" class="remove-image" id="removeImage">&times;</button>
                            </div>
                        </div>
                        <!-- Auto-enhance toggle -->
                        <label class="enhance-toggle">
                            <input type="checkbox" id="autoEnhance">
                            Auto-enhance image (brightness/contrast)
                        </label>
                    </div>

                    <!-- Product Title -->
                    <div class="form-group">
                        <label class="form-label">
                            Product Title
                            <span class="hint" id="titleHint">(in English)</span>
                        </label>
                        <input type="text" class="form-input" id="productTitle" placeholder="e.g., Premium Wireless Headphones" required>
                    </div>

                    <!-- Product Characteristics -->
                    <div class="form-group">
                        <label class="form-label">
                            Product Characteristics
                            <span class="hint" id="charHint">(key features - star important ones)</span>
                        </label>
                        <div class="characteristics-list" id="characteristicsList">
                            <div class="char-item">
                                <button type="button" class="char-star" title="Mark as primary feature">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                                    </svg>
                                </button>
                                <input type="text" class="form-input" placeholder="e.g., Active Noise Cancellation">
                                <select class="form-select char-icon-select" title="Suggested icon">
                                    <option value="auto">Auto icon</option>
                                    <option value="battery">Battery</option>
                                    <option value="bolt">Lightning</option>
                                    <option value="wifi">WiFi</option>
                                    <option value="bluetooth">Bluetooth</option>
                                    <option value="headphones">Audio</option>
                                    <option value="camera">Camera</option>
                                    <option value="shield">Shield</option>
                                    <option value="water">Water</option>
                                    <option value="star">Star</option>
                                    <option value="check">Check</option>
                                    <option value="none">No icon</option>
                                </select>
                                <button type="button" class="char-remove" title="Remove">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                </button>
                            </div>
                            <div class="char-item">
                                <button type="button" class="char-star" title="Mark as primary feature">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                                    </svg>
                                </button>
                                <input type="text" class="form-input" placeholder="e.g., 30-hour battery life">
                                <select class="form-select char-icon-select" title="Suggested icon">
                                    <option value="auto">Auto icon</option>
                                    <option value="battery">Battery</option>
                                    <option value="bolt">Lightning</option>
                                    <option value="wifi">WiFi</option>
                                    <option value="bluetooth">Bluetooth</option>
                                    <option value="headphones">Audio</option>
                                    <option value="camera">Camera</option>
                                    <option value="shield">Shield</option>
                                    <option value="water">Water</option>
                                    <option value="star">Star</option>
                                    <option value="check">Check</option>
                                    <option value="none">No icon</option>
                                </select>
                                <button type="button" class="char-remove" title="Remove">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                </button>
                            </div>
                            <div class="char-item">
                                <button type="button" class="char-star" title="Mark as primary feature">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                                    </svg>
                                </button>
                                <input type="text" class="form-input" placeholder="e.g., Bluetooth 5.3">
                                <select class="form-select char-icon-select" title="Suggested icon">
                                    <option value="auto">Auto icon</option>
                                    <option value="battery">Battery</option>
                                    <option value="bolt">Lightning</option>
                                    <option value="wifi">WiFi</option>
                                    <option value="bluetooth">Bluetooth</option>
                                    <option value="headphones">Audio</option>
                                    <option value="camera">Camera</option>
                                    <option value="shield">Shield</option>
                                    <option value="water">Water</option>
                                    <option value="star">Star</option>
                                    <option value="check">Check</option>
                                    <option value="none">No icon</option>
                                </select>
                                <button type="button" class="char-remove" title="Remove">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <button type="button" class="add-char-btn" id="addCharBtn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Characteristic
                        </button>
                    </div>

                    <!-- Background Style -->
                    <div class="form-group">
                        <label class="form-label">
                            Background Style
                            <span class="hint">(adapts to product colors)</span>
                        </label>
                        <select class="form-select" id="infographicStyle">
                            <option value="auto">Auto (Match Product Colors)</option>
                            <option value="rich">Rich Callouts (Recommended)</option>
                            <option value="callout">Callout Lines (Technical)</option>
                            <option value="light">Light Background</option>
                            <option value="dark">Dark Background</option>
                            <option value="gradient">Subtle Gradient</option>
                            <option value="transparent">Keep Original Background</option>
                        </select>
                    </div>

                    <!-- Advanced Options -->
                    <div class="advanced-section" id="advancedSection">
                        <button type="button" class="advanced-toggle" id="advancedToggle">
                            <span>Advanced Options</span>
                            <svg class="advanced-toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </button>
                        <div class="advanced-content">
                            <div class="advanced-grid">

                                <!-- SECTION: Layout & Composition -->
                                <div class="section-header">Layout & Composition</div>

                                <!-- Layout Template -->
                                <div class="form-group">
                                    <label class="form-label">Layout Template</label>
                                    <select class="form-select" id="layoutTemplate">
                                        <option value="auto">Auto</option>
                                        <option value="center">Product Center</option>
                                        <option value="left">Product Left</option>
                                        <option value="right">Product Right</option>
                                        <option value="top">Product Top</option>
                                        <option value="grid">Grid Layout</option>
                                        <option value="hero">Hero Layout</option>
                                    </select>
                                </div>

                                <!-- Aspect Ratio -->
                                <div class="form-group">
                                    <label class="form-label">Aspect Ratio</label>
                                    <select class="form-select" id="aspectRatio">
                                        <option value="auto">Auto</option>
                                        <option value="1:1">1:1 Square</option>
                                        <option value="2:3">2:3 Portrait</option>
                                        <option value="4:5">4:5 Portrait</option>
                                        <option value="16:9">16:9 Landscape</option>
                                        <option value="9:16">9:16 Story</option>
                                    </select>
                                </div>

                                <!-- Product Focus -->
                                <div class="form-group">
                                    <label class="form-label">Product Focus</label>
                                    <select class="form-select" id="productFocus">
                                        <option value="auto">Auto</option>
                                        <option value="full">Full Product</option>
                                        <option value="closeup">Close-up Detail</option>
                                        <option value="angle">Dynamic Angle</option>
                                        <option value="context">In Context</option>
                                        <option value="floating">Floating</option>
                                        <option value="multiple">Multiple Views</option>
                                    </select>
                                </div>

                                <!-- Variations -->
                                <div class="form-group">
                                    <label class="form-label">Variations</label>
                                    <select class="form-select" id="variations">
                                        <option value="1">1 Image</option>
                                        <option value="2">2 Images</option>
                                        <option value="4">4 Images</option>
                                    </select>
                                </div>

                                <!-- SECTION: Visual Style -->
                                <div class="section-header">Visual Style</div>

                                <!-- Visual Density -->
                                <div class="form-group advanced-full-width">
                                    <div class="slider-group">
                                        <div class="slider-header">
                                            <span class="slider-label">Visual Density</span>
                                            <span class="slider-value" id="visualDensityValue">Balanced</span>
                                        </div>
                                        <input type="range" class="form-slider" id="visualDensity" min="1" max="5" value="3">
                                        <div class="slider-labels">
                                            <span>Minimal</span>
                                            <span>Rich</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Font Style -->
                                <div class="form-group">
                                    <label class="form-label">Font Style</label>
                                    <select class="form-select" id="fontStyle">
                                        <option value="auto">Auto</option>
                                        <option value="modern">Modern Sans-Serif</option>
                                        <option value="classic">Classic Serif</option>
                                        <option value="bold">Bold & Heavy</option>
                                        <option value="playful">Playful & Rounded</option>
                                        <option value="technical">Technical Mono</option>
                                        <option value="elegant">Elegant & Thin</option>
                                    </select>
                                </div>

                                <!-- Icon Style -->
                                <div class="form-group">
                                    <label class="form-label">Icon Style</label>
                                    <select class="form-select" id="iconStyle">
                                        <option value="auto">Auto</option>
                                        <option value="flat">Flat</option>
                                        <option value="outlined">Outlined</option>
                                        <option value="3d">3D</option>
                                        <option value="minimal">Minimal</option>
                                        <option value="none">None</option>
                                    </select>
                                </div>

                                <!-- SECTION: Colors & Background -->
                                <div class="section-header">Colors & Background</div>

                                <!-- Color Harmony -->
                                <div class="form-group">
                                    <label class="form-label">Color Harmony</label>
                                    <select class="form-select" id="colorHarmony">
                                        <option value="match">Match Product</option>
                                        <option value="complementary">Complementary</option>
                                        <option value="analogous">Analogous</option>
                                        <option value="triadic">Triadic</option>
                                        <option value="monochrome">Monochrome</option>
                                        <option value="contrast">High Contrast</option>
                                    </select>
                                </div>

                                <!-- Background Complexity -->
                                <div class="form-group">
                                    <label class="form-label">Background Type</label>
                                    <select class="form-select" id="backgroundComplexity">
                                        <option value="auto">Auto</option>
                                        <option value="solid">Solid Color</option>
                                        <option value="subtle">Subtle Texture</option>
                                        <option value="textured">Textured</option>
                                        <option value="gradient">Gradient</option>
                                        <option value="pattern">Pattern</option>
                                        <option value="environmental">Environmental</option>
                                    </select>
                                </div>

                                <!-- Brand Colors -->
                                <div class="form-group advanced-full-width">
                                    <label class="form-label">
                                        Brand Colors
                                        <span class="hint">(comma-separated hex codes)</span>
                                    </label>
                                    <input type="text" class="form-input" id="brandColors" placeholder="#FF5733, #2563eb, #10b981">
                                </div>

                                <!-- SECTION: Style Reference -->
                                <div class="section-header">Style Reference</div>

                                <!-- Style Reference Upload -->
                                <div class="form-group advanced-full-width">
                                    <label class="form-label">
                                        Style Reference
                                        <span class="hint">(optional image to match style)</span>
                                    </label>
                                    <div class="style-ref-container">
                                        <div class="style-upload-area" id="styleUploadArea">
                                            <svg class="style-upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                                <polyline points="21 15 16 10 5 21"></polyline>
                                            </svg>
                                            <p class="style-upload-text">Click to upload style reference</p>
                                            <input type="file" class="upload-input" id="styleReference" accept="image/png,image/jpeg,image/jpg,image/webp">
                                        </div>
                                        <div class="style-preview-container" id="stylePreviewContainer" style="display: none;">
                                            <img src="" alt="Style Reference" class="style-preview-image" id="stylePreviewImg">
                                            <button type="button" class="style-preview-remove" id="removeStyleRef">&times;</button>
                                        </div>
                                        <!-- Style Strength Slider -->
                                        <div class="style-strength-slider" id="styleStrengthSlider">
                                            <div class="slider-group" style="margin-top: 12px;">
                                                <div class="slider-header">
                                                    <span class="slider-label">Style Influence</span>
                                                    <span class="slider-value" id="styleStrengthValue">70%</span>
                                                </div>
                                                <input type="range" class="form-slider" id="styleStrength" min="10" max="100" value="70">
                                                <div class="slider-labels">
                                                    <span>Subtle</span>
                                                    <span>Strong</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- SECTION: Generation Settings -->
                                <div class="section-header">Generation Settings</div>

                                <!-- Seed -->
                                <div class="form-group advanced-full-width">
                                    <label class="form-label">Seed</label>
                                    <div class="seed-group">
                                        <input type="number" class="form-input" id="seedInput" placeholder="Random" min="0" max="999999999">
                                        <label class="seed-random">
                                            <input type="checkbox" id="randomSeed" checked>
                                            Random
                                        </label>
                                    </div>
                                </div>

                                <!-- Negative Prompts -->
                                <div class="form-group advanced-full-width">
                                    <label class="form-label">
                                        Negative Prompts
                                        <span class="hint">(what to avoid)</span>
                                    </label>
                                    <textarea class="form-textarea" id="negativePrompt" rows="2" placeholder="e.g., clipart style, busy backgrounds, small text, watermarks"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Generate Button -->
                    <button type="submit" class="btn btn-primary" id="generateBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                        </svg>
                        Generate Infographic
                    </button>
                </form>
            </div>

            <!-- ============================================
                 RESULT PANEL
                 ============================================ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Generated Infographic</h2>
                </div>

                <div class="result-panel">
                    <!-- Placeholder State -->
                    <div class="result-placeholder" id="resultPlaceholder">
                        <svg class="placeholder-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <circle cx="8.5" cy="8.5" r="1.5"></circle>
                            <polyline points="21 15 16 10 5 21"></polyline>
                        </svg>
                        <p class="placeholder-text">Your infographic will appear here</p>
                        <p class="placeholder-hint">Fill in the product details and click Generate</p>
                    </div>

                    <!-- Loading State -->
                    <div class="loading-container" id="loadingContainer">
                        <div class="spinner"></div>
                        <p class="loading-text">Generating your infographic...</p>
                        <p class="loading-status" id="loadingStatus">Preparing prompt...</p>
                    </div>

                    <!-- Result Image -->
                    <div class="result-image-container" id="resultContainer">
                        <!-- Single image display -->
                        <img src="" alt="Generated Infographic" class="result-image" id="resultImage">

                        <!-- Grid for multiple variations (hidden by default) -->
                        <div class="result-grid" id="resultGrid" style="display: none;"></div>

                        <!-- Seed display -->
                        <div class="seed-display" id="seedDisplay" style="display: none;">
                            <span>Seed:</span>
                            <code id="seedValue"></code>
                            <button class="seed-copy-btn" id="copySeedBtn">Copy</button>
                        </div>

                        <!-- SEO Alt Text -->
                        <div class="alt-text-section" id="altTextSection" style="display: none;">
                            <div class="alt-text-header">
                                <span class="alt-text-label">SEO Alt Text</span>
                                <button class="alt-text-copy" id="copyAltText">Copy</button>
                            </div>
                            <div class="alt-text-content" id="altTextContent">
                                <span class="alt-text-loading">Generating alt text...</span>
                            </div>
                        </div>

                        <div class="result-actions">
                            <button class="btn btn-success" id="downloadBtn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                Download
                            </button>
                            <button class="btn btn-secondary" id="regenerateBtn">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 4 23 10 17 10"></polyline>
                                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                                </svg>
                                Regenerate
                            </button>
                        </div>

                        <!-- Feedback Section -->
                        <div class="feedback-section">
                            <label class="feedback-label">Adjust this infographic</label>
                            <textarea class="feedback-textarea" id="feedbackTextarea" placeholder="Describe what to change, e.g., 'Make the background darker', 'Move the title to the top', 'Use larger font for features'"></textarea>
                            <div class="feedback-actions">
                                <button class="btn btn-adjust" id="adjustBtn">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                    </svg>
                                    Adjust
                                </button>
                            </div>
                        </div>

                        <!-- Watermark Section -->
                        <div class="watermark-section" id="watermarkSection">
                            <button type="button" class="watermark-toggle" id="watermarkToggle">
                                <span>Add Watermark</span>
                                <svg class="advanced-toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div class="watermark-content">
                                <!-- Tabs -->
                                <div class="watermark-tabs">
                                    <button type="button" class="watermark-tab active" data-tab="text">Text</button>
                                    <button type="button" class="watermark-tab" data-tab="logo">Logo</button>
                                </div>

                                <!-- Text Watermark -->
                                <div class="watermark-tab-content active" id="watermarkTextTab">
                                    <input type="text" class="form-input" id="watermarkText" placeholder="Enter watermark text">
                                </div>

                                <!-- Logo Watermark -->
                                <div class="watermark-tab-content" id="watermarkLogoTab">
                                    <input type="file" id="watermarkLogo" accept="image/png,image/jpeg,image/webp" style="display: none;">
                                    <button type="button" class="btn btn-secondary" id="uploadLogoBtn" style="width: 100%;">
                                        Upload Logo
                                    </button>
                                    <img src="" alt="Logo preview" class="watermark-logo-preview" id="watermarkLogoPreview" style="display: none;">
                                </div>

                                <!-- Position -->
                                <label class="form-label" style="margin-top: 12px; margin-bottom: 6px;">Position</label>
                                <div class="watermark-position-grid">
                                    <button type="button" class="watermark-position-btn" data-pos="tl">TL</button>
                                    <button type="button" class="watermark-position-btn" data-pos="tc">TC</button>
                                    <button type="button" class="watermark-position-btn" data-pos="tr">TR</button>
                                    <button type="button" class="watermark-position-btn" data-pos="ml">ML</button>
                                    <button type="button" class="watermark-position-btn" data-pos="mc">MC</button>
                                    <button type="button" class="watermark-position-btn" data-pos="mr">MR</button>
                                    <button type="button" class="watermark-position-btn" data-pos="bl">BL</button>
                                    <button type="button" class="watermark-position-btn active" data-pos="bc">BC</button>
                                    <button type="button" class="watermark-position-btn" data-pos="br">BR</button>
                                </div>

                                <!-- Opacity -->
                                <div class="watermark-slider-group">
                                    <div class="watermark-slider-label">
                                        <span>Opacity</span>
                                        <span id="opacityValue">50%</span>
                                    </div>
                                    <input type="range" class="watermark-slider" id="watermarkOpacity" min="10" max="100" value="50">
                                </div>

                                <!-- Size (for logo) -->
                                <div class="watermark-slider-group" id="watermarkSizeGroup" style="display: none;">
                                    <div class="watermark-slider-label">
                                        <span>Size</span>
                                        <span id="sizeValue">20%</span>
                                    </div>
                                    <input type="range" class="watermark-slider" id="watermarkSize" min="5" max="50" value="20">
                                </div>

                                <button type="button" class="btn btn-primary watermark-apply-btn" id="applyWatermark">
                                    Apply Watermark
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- History Section -->
    <div class="container">
        <div class="card history-section" id="historySection">
            <div class="history-header">
                <div>
                    <span class="history-title">Generation History</span>
                    <span class="history-count" id="historyCount"></span>
                </div>
                <button class="clear-history-btn" id="clearHistoryBtn">Clear All</button>
            </div>
            <div class="history-grid" id="historyGrid">
                <!-- History items will be inserted here -->
            </div>
            <div class="history-empty" id="historyEmpty">
                No generations yet. Create your first infographic!
            </div>
        </div>
    </div>

    <!-- Lightbox / Zoom View -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" id="lightboxClose">&times;</button>
            <img src="" alt="Zoomed Image" class="lightbox-image" id="lightboxImage">
            <div class="lightbox-controls">
                <button class="lightbox-btn" id="lightboxDownload">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    Download
                </button>
            </div>
        </div>
    </div>

    <!-- History Modal -->
    <div class="history-modal" id="historyModal">
        <div class="history-modal-content">
            <div class="history-modal-header">
                <span class="history-modal-title" id="modalTitle">Infographic</span>
                <button class="history-modal-close" id="closeModal">&times;</button>
            </div>
            <div class="history-modal-body">
                <img src="" alt="Infographic" id="modalImage">
            </div>
            <div class="history-modal-footer">
                <button class="btn btn-success" id="modalDownload">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    Download
                </button>
                <button class="btn btn-secondary" id="modalUseAsBase">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="23 4 23 10 17 10"></polyline>
                        <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                    </svg>
                    Load to Editor
                </button>
            </div>
        </div>
    </div>

    <footer>
        <p>Powered by OpenRouter AI &bull; Supports English and Romanian (a, a, i, s, t) &bull; Ctrl+Enter to generate</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
